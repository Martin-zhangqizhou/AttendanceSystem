{"remainingRequest":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\thread-loader\\dist\\cjs.js!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\babel-loader\\lib\\index.js!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\src\\views\\publish\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\src\\views\\publish\\index.vue","mtime":1607350945838},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVXBsb2FkQ292ZXIgZnJvbSAnLi9jb21wb25lbnRzL3VwbG9hZC1jb3Zlcic7CmltcG9ydCB7IGdldEFydGljbGVDaGFubmVscywgYWRkQXJ0aWNsZSwgdXBkYXRlQXJ0aWNsZSwgZ2V0QXJ0aWNsZSB9IGZyb20gIkAvYXBpL2FydGljbGUiOwppbXBvcnQgeyBFbGVtZW50VGlwdGFwLCBEb2MsIFRleHQsIFBhcmFncmFwaCwgSGVhZGluZywgQm9sZCwgVW5kZXJsaW5lLCBJdGFsaWMsIEltYWdlLCBTdHJpa2UsIExpc3RJdGVtLCBCdWxsZXRMaXN0LCBPcmRlcmVkTGlzdCwgVG9kb0l0ZW0sIFRvZG9MaXN0LCBIb3Jpem9udGFsUnVsZSwgRnVsbHNjcmVlbiwgUHJldmlldywgQ29kZUJsb2NrLCBUZXh0Q29sb3IgfSBmcm9tICdlbGVtZW50LXRpcHRhcCc7CmltcG9ydCAnZWxlbWVudC10aXB0YXAvbGliL2luZGV4LmNzcyc7CmltcG9ydCB7IHVwbG9hZEltYWdlIH0gZnJvbSAnQC9hcGkvaW1hZ2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1B1Ymxpc2hJbmRleCcsCiAgcHJvcHM6IHt9LAogIGNvbXBvbmVudHM6IHsKICAgICdlbC10aXB0YXAnOiBFbGVtZW50VGlwdGFwLAogICAgVXBsb2FkQ292ZXI6IFVwbG9hZENvdmVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXh0ZW5zaW9uczogW25ldyBEb2MoKSwgbmV3IFRleHQoKSwgbmV3IFBhcmFncmFwaCgpLCBuZXcgSGVhZGluZyh7CiAgICAgICAgbGV2ZWw6IDMKICAgICAgfSksIG5ldyBCb2xkKHsKICAgICAgICBidWJibGU6IHRydWUKICAgICAgfSksIC8vIOWcqOawlOazoeiPnOWNleS4rea4suafk+iPnOWNleaMiemSrgogICAgICBuZXcgSW1hZ2UoewogICAgICAgIC8vIOm7mOiupOS8muaKiuWbvueJh+eUn+aIkCBiYXNlNjQg5a2X56ym5Liy5ZKM5YaF5a655a2Y5YKo5Zyo5LiA6LW377yM5aaC5p6c6ZyA6KaB6Ieq5a6a5LmJ5Zu+54mH5LiK5LygCiAgICAgICAgdXBsb2FkUmVxdWVzdDogZnVuY3Rpb24gdXBsb2FkUmVxdWVzdChmaWxlKSB7CiAgICAgICAgICAvLyDlpoLmnpzmjqXlj6PopoHmsYIgQ29udGVudC1UeXBlIOaYryBtdWx0aXBhcnQvZm9ybS1kYXRh77yM5YiZ6K+35rGC5L2T5b+F6aG75L2/55SoIEZvcm1EYXRhCiAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgIGZkLmFwcGVuZCgnaW1hZ2UnLCBmaWxlKTsgLy8g56ysMeS4qiByZXR1cm4g5piv6L+U5ZueIFByb21pc2Ug5a+56LGhCiAgICAgICAgICAvLyDkuLrku4DkuYjvvJ/lm6DkuLogYXhpb3Mg5pys6Lqr5bCx5piv6L+U5ZueIFByb21pc2Ug5a+56LGhCgogICAgICAgICAgcmV0dXJuIHVwbG9hZEltYWdlKGZkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgLy8g6L+Z5LiqIHJldHVybiDmmK/ov5Tlm57mnIDlkI7nmoTnu5PmnpwKICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLmRhdGEudXJsOwogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyDlm77niYfnmoTkuIrkvKDmlrnms5XvvIzov5Tlm57kuIDkuKogUHJvbWlzZTx1cmw+CgogICAgICB9KSwgbmV3IFVuZGVybGluZSgpLCAvLyDkuIvliJLnur8KICAgICAgbmV3IEl0YWxpYygpLCAvLyDmlpzkvZMKICAgICAgbmV3IFN0cmlrZSgpLCAvLyDliKDpmaTnur8KICAgICAgbmV3IEhvcml6b250YWxSdWxlKCksIC8vIOWNjuS4veeahOWIhuWJsue6vwogICAgICBuZXcgTGlzdEl0ZW0oKSwgbmV3IEJ1bGxldExpc3QoKSwgLy8g5peg5bqP5YiX6KGoCiAgICAgIG5ldyBPcmRlcmVkTGlzdCgpLCAvLyDmnInluo/liJfooagKICAgICAgbmV3IFRvZG9JdGVtKCksIG5ldyBUb2RvTGlzdCgpLCBuZXcgRnVsbHNjcmVlbigpLCBuZXcgUHJldmlldygpLCBuZXcgQ29kZUJsb2NrKCksIG5ldyBUZXh0Q29sb3IoKV0sCiAgICAgIGNoYW5uZWxzOiBbXSwKICAgICAgYXJ0aWNsZTogewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICAvLyDmlofnq6DmoIfpopgKICAgICAgICBjb250ZW50OiAiXG4gICAgICAgICAgICAgICAgPGgxPkhlYWRpbmc8L2gxPlxuICAgICAgICAgICAgICAgIDxwPlRoaXMgRWRpdG9yIGlzIGF3ZXNvbWUhPC9wPlxuICAgICAgICAgICAgICAiLAogICAgICAgIC8vIOaWh+eroOWGheWuuQogICAgICAgIGNvdmVyOiB7CiAgICAgICAgICAvLyDmlofnq6DlsIHpnaIKICAgICAgICAgIHR5cGU6IDAsCiAgICAgICAgICAvLyDlsIHpnaLnsbvlnosgLTE66Ieq5Yqo77yMMC3ml6Dlm77vvIwxLTHlvKDvvIwzLTPlvKAKICAgICAgICAgIGltYWdlczogW10gLy8g5bCB6Z2i5Zu+54mH55qE5Zyw5Z2ACgogICAgICAgIH0sCiAgICAgICAgY2hhbm5lbF9pZDogbnVsbAogICAgICB9LAogICAgICBhcnRpY2xlX2lkOiBudWxsLAogICAgICBmcm9tUnVsZXM6IHsKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaWh+eroOagh+mimCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDUsCiAgICAgICAgICBtYXg6IDMwLAogICAgICAgICAgbWVzc2FnZTogJ+mVv+W6puWcqCA1IOWIsCAzMCDkuKrlrZfnrKYnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY29udGVudDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAodmFsdWUgPT09ICc8cD48L3A+JykgewogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5paH56ug5YaF5a65JykpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmlofnq6DlhoXlrrknLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY2hhbm5lbF9pZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeaWh+eroOmikemBkycKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRDaGFubmVscygpOyAvLyDnlLHkuo7miJHku6zorqnlj5HluIPlkozkv67mlLnkvb/nlKjnmoTmmK8g5ZCM5LiA5Liq57uE5Lu2CiAgICAvLyDmiYDku6Xov5nph4zopoHliKTmlq0KICAgIC8vIOWmguaenOi3r+eUseWPguaVsOS4reaciSBpZCAg5YiZ6K+35rGC5bGV56S65paH56ug5YaF5a65CgogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKSB7CiAgICAgIHRoaXMubG9hZEFydGljbGUoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICB3YXRjaDoge30sCiAgbWV0aG9kczogewogICAgb25QdWJsaXNoOiBmdW5jdGlvbiBvblB1Ymxpc2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZHJhZnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICB0aGlzLiRyZWZzWydwdWJsaXNoLWZvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAvLyDpqozor4HlpLHotKXlgZzmraLmj5DkuqTooajljZUKICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLmFydGljbGVfaWQpIHsKICAgICAgICB1cGRhdGVBcnRpY2xlKHRoaXMuYXJ0aWNsZV9pZCwgdGhpcy5hcnRpY2xlLCBkcmFmdCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogIiIuY29uY2F0KGRyYWZ0ID8gJ+WtmOWFpeiNieeovycgOiAn5Y+R5biDJywgIlx1NjIxMFx1NTI5RiIpLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOyAvLyDot7PovazliLDlhoXlrrnnrqHnkIbpobXpnaIKCgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvYXJ0aWNsZScpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOaJvuWIsOaVsOaNruaOpeWPowogICAgICAgIGFkZEFydGljbGUodGhpcy5hcnRpY2xlLCBkcmFmdCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogIiIuY29uY2F0KGRyYWZ0ID8gJ+WtmOWFpeiNieeovycgOiAn5Y+R5biDJywgIlx1NjIxMFx1NTI5RiIpLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOyAvLyDot7PovazliLDlhoXlrrnnrqHnkIbpobXpnaIKCgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvYXJ0aWNsZScpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgbG9hZENoYW5uZWxzOiBmdW5jdGlvbiBsb2FkQ2hhbm5lbHMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZ2V0QXJ0aWNsZUNoYW5uZWxzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmNoYW5uZWxzID0gcmVzLmRhdGEuZGF0YS5jaGFubmVsczsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZEFydGljbGU6IGZ1bmN0aW9uIGxvYWRBcnRpY2xlKCkgewogICAgICAvLyDkv67mlLnmlofnq6Ag5Yqg6L295paH56ug5YaF5a65CiAgICAgIHRoaXMuYXJ0aWNsZV9pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLnRvU3RyaW5nKCk7CiAgICAgIGdldEFydGljbGUodGhpcy5hcnRpY2xlX2lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsvL3RoaXMuYXJ0aWNsZSA9IHJlcy5kYXRhLmRhdGEKICAgICAgfSk7CiAgICB9LAogICAgb25VcGRhdGVDb3ZlcjogZnVuY3Rpb24gb25VcGRhdGVDb3ZlcihpbmRleCwgdXJsKSB7CiAgICAgIGNvbnNvbGUubG9nKHVybCk7CiAgICAgIHRoaXMuYXJ0aWNsZS5jb3Zlci5pbWFnZXNbaW5kZXhdID0gdXJsOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"publish-container\">\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>{{ $route.query.id ? '修改文章': '发布文章'}}</el-breadcrumb-item>\r\n          </el-breadcrumb>\r\n        </div>\r\n      </div>\r\n      <el-form ref=\"publish-form\"\r\n               :rules=\"fromRules\"\r\n               :model=\"article\"\r\n               label-width=\"80px\">\r\n        <el-form-item label=\"标题\" prop=\"title\">\r\n          <el-input v-model=\"article.title\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"内容\" prop=\"content\">\r\n          <!-- <el-input type=\"textarea\" v-model=\"article.content\"></el-input> -->\r\n          <el-tiptap\r\n            v-model=\"article.content\"\r\n            :extensions=\"extensions\"\r\n            lang=\"zh\"\r\n            height=\"350\"\r\n            placeholder=\"请输入文章内容\"\r\n          ></el-tiptap>\r\n        </el-form-item>\r\n        <el-form-item label=\"封面\">\r\n          <el-radio-group v-model=\"article.cover.type\">\r\n            <el-radio :label=\"1\">单图</el-radio>\r\n            <el-radio :label=\"3\">三图</el-radio>\r\n            <el-radio :label=\"0\">无图</el-radio>\r\n            <el-radio :label=\"-1\">自动</el-radio>\r\n          </el-radio-group>\r\n          <template v-if=\"article.cover.type > 0\">\r\n<!--            <upload-cover-->\r\n<!--              v-for=\"(cover,index) in article.cover.type\"-->\r\n<!--              :key=\"cover\"-->\r\n<!--              :cover-image=\"article.cover.images[index]\"-->\r\n<!--              @update-cover = \"onUpdateCover(index, $event)\"-->\r\n<!--            />-->\r\n            <!--\r\n            我们需要把选择的封面图片的地址放到 article.cover.images 数组中\r\n\r\n            当你给事件处理函数传递了自定义参数以后，就无法得到原本的那个数据参数了。\r\n\r\n            如果想要在事件处理函数自定义传参以后还想得到原来的那个事件本身的参数，则手动指定 $event，它就代表那个事件本身的参数\r\n\r\n            在组件上使用 v-model\r\n\r\n            当你给子组件提供的数据既要使用还要修改，这个时候我们可以使用 v-model 简化数据绑定。\r\n            v-model=\"article.cover.images[index]\"\r\n              给子组件传递了一个名字叫 value 的数据\r\n              :value=\"article.cover.images[index]\"\r\n              默认监听 input 事件，当事件发生，它会让绑定数据 = 事件参数\r\n              @input=\"article.cover.images[index] = 事件参数\"\r\n\r\n            注意：v-model 仅仅是简写了而已，本质还在在父子组件通信\r\n\r\n            v-model 的参考文档：https://cn.vuejs.org/v2/guide/components-custom-events.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E7%9A%84-v-model\r\n           -->\r\n            <upload-cover\r\n              :key=\"cover\"\r\n              v-for=\"(cover, index) in article.cover.type\"\r\n              v-model=\"article.cover.images[index]\"\r\n            />\r\n          </template>\r\n        </el-form-item>\r\n        <el-form-item label=\"频道\" prop=\"channel_id\">\r\n          <el-select v-model=\"article.channel_id\" placeholder=\"请选择频道\">\r\n            <el-option\r\n              :label=\"channel.name\"\r\n              :value=\"channel.id\"\r\n              v-for=\"(channel, index) in channels\"\r\n              :key=\"index\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"onPublish(false)\">发表</el-button>\r\n          <el-button @click=\"onPublish(true)\">存入草稿</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import UploadCover from './components/upload-cover'\r\n  import { getArticleChannels, addArticle, updateArticle, getArticle } from \"@/api/article\";\r\n  import {\r\n    ElementTiptap,\r\n    Doc,\r\n    Text,\r\n    Paragraph,\r\n    Heading,\r\n    Bold,\r\n    Underline,\r\n    Italic,\r\n    Image,\r\n    Strike,\r\n    ListItem,\r\n    BulletList,\r\n    OrderedList,\r\n    TodoItem,\r\n    TodoList,\r\n    HorizontalRule,\r\n    Fullscreen,\r\n    Preview,\r\n    CodeBlock,\r\n    TextColor\r\n  } from 'element-tiptap'\r\n  import 'element-tiptap/lib/index.css'\r\n  import { uploadImage } from '@/api/image'\r\n  export default {\r\n  name: 'PublishIndex',\r\n  props: {},\r\n  components: {\r\n    'el-tiptap': ElementTiptap,\r\n    UploadCover\r\n  },\r\n  data () {\r\n    return {\r\n      extensions: [\r\n        new Doc(),\r\n        new Text(),\r\n        new Paragraph(),\r\n        new Heading({ level: 3 }),\r\n        new Bold({ bubble: true }), // 在气泡菜单中渲染菜单按钮\r\n        new Image({\r\n          // 默认会把图片生成 base64 字符串和内容存储在一起，如果需要自定义图片上传\r\n          uploadRequest (file) {\r\n            // 如果接口要求 Content-Type 是 multipart/form-data，则请求体必须使用 FormData\r\n            const fd = new FormData()\r\n            fd.append('image', file)\r\n            // 第1个 return 是返回 Promise 对象\r\n            // 为什么？因为 axios 本身就是返回 Promise 对象\r\n            return uploadImage(fd).then(res => {\r\n              // 这个 return 是返回最后的结果\r\n              return res.data.data.url\r\n            })\r\n          } // 图片的上传方法，返回一个 Promise<url>\r\n        }),\r\n        new Underline(), // 下划线\r\n        new Italic(), // 斜体\r\n        new Strike(), // 删除线\r\n        new HorizontalRule(), // 华丽的分割线\r\n        new ListItem(),\r\n        new BulletList(), // 无序列表\r\n        new OrderedList(), // 有序列表\r\n        new TodoItem(),\r\n        new TodoList(),\r\n        new Fullscreen(),\r\n        new Preview(),\r\n        new CodeBlock(),\r\n        new TextColor()\r\n      ],\r\n      channels: [],\r\n      article: {\r\n        title: '', // 文章标题\r\n        content: `\r\n                <h1>Heading</h1>\r\n                <p>This Editor is awesome!</p>\r\n              `, // 文章内容\r\n        cover : { // 文章封面\r\n          type : 0, // 封面类型 -1:自动，0-无图，1-1张，3-3张\r\n          images: [] // 封面图片的地址\r\n        },\r\n        channel_id: null\r\n      },\r\n      article_id: null,\r\n      fromRules: {\r\n        title: [\r\n          { required: true, message: '请输入文章标题', trigger: 'blur' },\r\n          { min: 5, max: 30, message: '长度在 5 到 30 个字符', trigger: 'blur' }\r\n        ],\r\n        content: [\r\n          {\r\n            validator (rule, value, callback) {\r\n              if (value === '<p></p>'){\r\n                callback(new Error('请输入文章内容'))\r\n              } else {\r\n                callback()\r\n              }\r\n            }\r\n          },\r\n          { required: true, message: '请输入文章内容', trigger: 'blur' },\r\n        ],\r\n        channel_id: [\r\n          { required: true, message: '请选择文章频道'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  created() {\r\n    this.loadChannels()\r\n\r\n    // 由于我们让发布和修改使用的是 同一个组件\r\n    // 所以这里要判断\r\n    // 如果路由参数中有 id  则请求展示文章内容\r\n    if (this.$route.query.id) {\r\n      this.loadArticle()\r\n    }\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n  },\r\n  methods: {\r\n    onPublish(draft = false) {\r\n      this.$refs['publish-form'].validate(valid => {\r\n        // 验证失败停止提交表单\r\n        if (!valid){\r\n          return\r\n        }\r\n      })\r\n      if (this.article_id){\r\n        updateArticle(this.article_id, this.article, draft).then(res => {\r\n          console.log(res)\r\n          this.$message({\r\n            message: `${draft ? '存入草稿' : '发布'}成功`,\r\n            type: 'success'\r\n          })\r\n          // 跳转到内容管理页面\r\n          this.$router.push('/article')\r\n        })\r\n      }else {\r\n        // 找到数据接口\r\n        addArticle(this.article, draft).then(res => {\r\n          console.log(res)\r\n          this.$message({\r\n            message: `${draft ? '存入草稿' : '发布'}成功`,\r\n            type: 'success'\r\n          })\r\n          // 跳转到内容管理页面\r\n          this.$router.push('/article')\r\n        })\r\n      }\r\n    },\r\n    loadChannels () {\r\n      getArticleChannels().then(res => {\r\n        this.channels = res.data.data.channels\r\n      })\r\n    },\r\n    loadArticle () {\r\n      // 修改文章 加载文章内容\r\n      this.article_id = this.$route.query.id.toString()\r\n      getArticle(this.article_id).then(res => {\r\n        //this.article = res.data.data\r\n      })\r\n    },\r\n    onUpdateCover(index, url) {\r\n      console.log(url)\r\n      this.article.cover.images[index] = url\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/publish"}]}