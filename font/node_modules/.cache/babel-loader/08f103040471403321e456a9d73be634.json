{"remainingRequest":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\babel-loader\\lib\\index.js!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\src\\views\\publish\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\src\\views\\publish\\index.vue","mtime":1607236025864},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRBcnRpY2xlQ2hhbm5lbHMsIGFkZEFydGljbGUsIHVwZGF0ZUFydGljbGUsIGdldEFydGljbGUgfSBmcm9tICJAL2FwaS9hcnRpY2xlIjsKaW1wb3J0IHsgRWxlbWVudFRpcHRhcCwgRG9jLCBUZXh0LCBQYXJhZ3JhcGgsIEhlYWRpbmcsIEJvbGQsIFVuZGVybGluZSwgSXRhbGljLCBJbWFnZSwgU3RyaWtlLCBMaXN0SXRlbSwgQnVsbGV0TGlzdCwgT3JkZXJlZExpc3QsIFRvZG9JdGVtLCBUb2RvTGlzdCwgSG9yaXpvbnRhbFJ1bGUsIEZ1bGxzY3JlZW4sIFByZXZpZXcsIENvZGVCbG9jaywgVGV4dENvbG9yIH0gZnJvbSAnZWxlbWVudC10aXB0YXAnOwppbXBvcnQgJ2VsZW1lbnQtdGlwdGFwL2xpYi9pbmRleC5jc3MnOwppbXBvcnQgeyB1cGxvYWRJbWFnZSB9IGZyb20gJ0AvYXBpL2ltYWdlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQdWJsaXNoSW5kZXgnLAogIHByb3BzOiB7fSwKICBjb21wb25lbnRzOiB7CiAgICAnZWwtdGlwdGFwJzogRWxlbWVudFRpcHRhcAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGV4dGVuc2lvbnM6IFtuZXcgRG9jKCksIG5ldyBUZXh0KCksIG5ldyBQYXJhZ3JhcGgoKSwgbmV3IEhlYWRpbmcoewogICAgICAgIGxldmVsOiAzCiAgICAgIH0pLCBuZXcgQm9sZCh7CiAgICAgICAgYnViYmxlOiB0cnVlCiAgICAgIH0pLCAvLyDlnKjmsJTms6Hoj5zljZXkuK3muLLmn5Poj5zljZXmjInpkq4KICAgICAgbmV3IEltYWdlKHsKICAgICAgICAvLyDpu5jorqTkvJrmiorlm77niYfnlJ/miJAgYmFzZTY0IOWtl+espuS4suWSjOWGheWuueWtmOWCqOWcqOS4gOi1t++8jOWmguaenOmcgOimgeiHquWumuS5ieWbvueJh+S4iuS8oAogICAgICAgIHVwbG9hZFJlcXVlc3Q6IGZ1bmN0aW9uIHVwbG9hZFJlcXVlc3QoZmlsZSkgewogICAgICAgICAgLy8g5aaC5p6c5o6l5Y+j6KaB5rGCIENvbnRlbnQtVHlwZSDmmK8gbXVsdGlwYXJ0L2Zvcm0tZGF0Ye+8jOWImeivt+axguS9k+W/hemhu+S9v+eUqCBGb3JtRGF0YQogICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICBmZC5hcHBlbmQoJ2ltYWdlJywgZmlsZSk7IC8vIOesrDHkuKogcmV0dXJuIOaYr+i/lOWbniBQcm9taXNlIOWvueixoQogICAgICAgICAgLy8g5Li65LuA5LmI77yf5Zug5Li6IGF4aW9zIOacrOi6q+WwseaYr+i/lOWbniBQcm9taXNlIOWvueixoQoKICAgICAgICAgIHJldHVybiB1cGxvYWRJbWFnZShmZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIC8vIOi/meS4qiByZXR1cm4g5piv6L+U5Zue5pyA5ZCO55qE57uT5p6cCiAgICAgICAgICAgIHJldHVybiByZXMuZGF0YS5kYXRhLnVybDsKICAgICAgICAgIH0pOwogICAgICAgIH0gLy8g5Zu+54mH55qE5LiK5Lyg5pa55rOV77yM6L+U5Zue5LiA5LiqIFByb21pc2U8dXJsPgoKICAgICAgfSksIG5ldyBVbmRlcmxpbmUoKSwgLy8g5LiL5YiS57q/CiAgICAgIG5ldyBJdGFsaWMoKSwgLy8g5pac5L2TCiAgICAgIG5ldyBTdHJpa2UoKSwgLy8g5Yig6Zmk57q/CiAgICAgIG5ldyBIb3Jpem9udGFsUnVsZSgpLCAvLyDljY7kuL3nmoTliIblibLnur8KICAgICAgbmV3IExpc3RJdGVtKCksIG5ldyBCdWxsZXRMaXN0KCksIC8vIOaXoOW6j+WIl+ihqAogICAgICBuZXcgT3JkZXJlZExpc3QoKSwgLy8g5pyJ5bqP5YiX6KGoCiAgICAgIG5ldyBUb2RvSXRlbSgpLCBuZXcgVG9kb0xpc3QoKSwgbmV3IEZ1bGxzY3JlZW4oKSwgbmV3IFByZXZpZXcoKSwgbmV3IENvZGVCbG9jaygpLCBuZXcgVGV4dENvbG9yKCldLAogICAgICBjaGFubmVsczogW10sCiAgICAgIGFydGljbGU6IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgLy8g5paH56ug5qCH6aKYCiAgICAgICAgY29udGVudDogIlxuICAgICAgICAgICAgICAgIDxoMT5IZWFkaW5nPC9oMT5cbiAgICAgICAgICAgICAgICA8cD5UaGlzIEVkaXRvciBpcyBhd2Vzb21lITwvcD5cbiAgICAgICAgICAgICAgIiwKICAgICAgICAvLyDmlofnq6DlhoXlrrkKICAgICAgICBjb3ZlcjogewogICAgICAgICAgLy8g5paH56ug5bCB6Z2iCiAgICAgICAgICB0eXBlOiAwLAogICAgICAgICAgLy8g5bCB6Z2i57G75Z6LIC0xOuiHquWKqO+8jDAt5peg5Zu+77yMMS0x5byg77yMMy0z5bygCiAgICAgICAgICBpbWFnZXM6IFtdIC8vIOWwgemdouWbvueJh+eahOWcsOWdgAoKICAgICAgICB9LAogICAgICAgIGNoYW5uZWxfaWQ6IG51bGwKICAgICAgfSwKICAgICAgYXJ0aWNsZV9pZDogbnVsbCwKICAgICAgZnJvbVJ1bGVzOiB7CiAgICAgICAgdGl0bGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmlofnq6DmoIfpopgnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA1LAogICAgICAgICAgbWF4OiAzMCwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblnKggNSDliLAgMzAg5Liq5a2X56ymJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNvbnRlbnQ6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnPHA+PC9wPicpIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeaWh+eroOWGheWuuScpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5paH56ug5YaF5a65JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNoYW5uZWxfaWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmlofnq6DpopHpgZMnCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQ2hhbm5lbHMoKTsgLy8g55Sx5LqO5oiR5Lus6K6p5Y+R5biD5ZKM5L+u5pS55L2/55So55qE5pivIOWQjOS4gOS4que7hOS7tgogICAgLy8g5omA5Lul6L+Z6YeM6KaB5Yik5patCiAgICAvLyDlpoLmnpzot6/nlLHlj4LmlbDkuK3mnIkgaWQgIOWImeivt+axguWxleekuuaWh+eroOWGheWuuQoKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkgewogICAgICB0aGlzLmxvYWRBcnRpY2xlKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHsKICAgIG9uUHVibGlzaDogZnVuY3Rpb24gb25QdWJsaXNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRyYWZ0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdGhpcy4kcmVmc1sncHVibGlzaC1mb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgLy8g6aqM6K+B5aSx6LSl5YGc5q2i5o+Q5Lqk6KGo5Y2VCiAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAodGhpcy5hcnRpY2xlX2lkKSB7CiAgICAgICAgdXBkYXRlQXJ0aWNsZSh0aGlzLmFydGljbGVfaWQsIHRoaXMuYXJ0aWNsZSwgZHJhZnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICIiLmNvbmNhdChkcmFmdCA/ICflrZjlhaXojYnnqL8nIDogJ+WPkeW4gycsICJcdTYyMTBcdTUyOUYiKSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsgLy8g6Lez6L2s5Yiw5YaF5a65566h55CG6aG16Z2iCgoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL2FydGljbGUnKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmib7liLDmlbDmja7mjqXlj6MKICAgICAgICBhZGRBcnRpY2xlKHRoaXMuYXJ0aWNsZSwgZHJhZnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICIiLmNvbmNhdChkcmFmdCA/ICflrZjlhaXojYnnqL8nIDogJ+WPkeW4gycsICJcdTYyMTBcdTUyOUYiKSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsgLy8g6Lez6L2s5Yiw5YaF5a65566h55CG6aG16Z2iCgoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL2FydGljbGUnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGxvYWRDaGFubmVsczogZnVuY3Rpb24gbG9hZENoYW5uZWxzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGdldEFydGljbGVDaGFubmVscygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5jaGFubmVscyA9IHJlcy5kYXRhLmRhdGEuY2hhbm5lbHM7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRBcnRpY2xlOiBmdW5jdGlvbiBsb2FkQXJ0aWNsZSgpIHsKICAgICAgLy8g5L+u5pS55paH56ugIOWKoOi9veaWh+eroOWGheWuuQogICAgICB0aGlzLmFydGljbGVfaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZC50b1N0cmluZygpOwogICAgICBnZXRBcnRpY2xlKHRoaXMuYXJ0aWNsZV9pZCkudGhlbihmdW5jdGlvbiAocmVzKSB7Ly90aGlzLmFydGljbGUgPSByZXMuZGF0YS5kYXRhCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"publish-container\">\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>{{ $route.query.id ? '修改文章': '发布文章'}}</el-breadcrumb-item>\r\n          </el-breadcrumb>\r\n        </div>\r\n      </div>\r\n      <el-form ref=\"publish-form\"\r\n               :rules=\"fromRules\"\r\n               :model=\"article\"\r\n               label-width=\"80px\">\r\n        <el-form-item label=\"标题\" prop=\"title\">\r\n          <el-input v-model=\"article.title\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"内容\" prop=\"content\">\r\n          <!-- <el-input type=\"textarea\" v-model=\"article.content\"></el-input> -->\r\n          <el-tiptap\r\n            v-model=\"article.content\"\r\n            :extensions=\"extensions\"\r\n            lang=\"zh\"\r\n            height=\"350\"\r\n            placeholder=\"请输入文章内容\"\r\n          ></el-tiptap>\r\n        </el-form-item>\r\n        <el-form-item label=\"封面\">\r\n          <el-radio-group v-model=\"article.cover.type\">\r\n            <el-radio :label=\"1\">单图</el-radio>\r\n            <el-radio :label=\"3\">三图</el-radio>\r\n            <el-radio :label=\"0\">无图</el-radio>\r\n            <el-radio :label=\"-1\">自动</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"频道\" prop=\"channel_id\">\r\n          <el-select v-model=\"article.channel_id\" placeholder=\"请选择频道\">\r\n            <el-option\r\n              :label=\"channel.name\"\r\n              :value=\"channel.id\"\r\n              v-for=\"(channel, index) in channels\"\r\n              :key=\"index\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"onPublish(false)\">发表</el-button>\r\n          <el-button @click=\"onPublish(true)\">存入草稿</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { getArticleChannels, addArticle, updateArticle, getArticle } from \"@/api/article\";\r\n  import {\r\n    ElementTiptap,\r\n    Doc,\r\n    Text,\r\n    Paragraph,\r\n    Heading,\r\n    Bold,\r\n    Underline,\r\n    Italic,\r\n    Image,\r\n    Strike,\r\n    ListItem,\r\n    BulletList,\r\n    OrderedList,\r\n    TodoItem,\r\n    TodoList,\r\n    HorizontalRule,\r\n    Fullscreen,\r\n    Preview,\r\n    CodeBlock,\r\n    TextColor\r\n  } from 'element-tiptap'\r\n  import 'element-tiptap/lib/index.css'\r\n  import { uploadImage } from '@/api/image'\r\n  export default {\r\n  name: 'PublishIndex',\r\n  props: {},\r\n  components: {\r\n    'el-tiptap': ElementTiptap,\r\n  },\r\n  data () {\r\n    return {\r\n      extensions: [\r\n        new Doc(),\r\n        new Text(),\r\n        new Paragraph(),\r\n        new Heading({ level: 3 }),\r\n        new Bold({ bubble: true }), // 在气泡菜单中渲染菜单按钮\r\n        new Image({\r\n          // 默认会把图片生成 base64 字符串和内容存储在一起，如果需要自定义图片上传\r\n          uploadRequest (file) {\r\n            // 如果接口要求 Content-Type 是 multipart/form-data，则请求体必须使用 FormData\r\n            const fd = new FormData()\r\n            fd.append('image', file)\r\n            // 第1个 return 是返回 Promise 对象\r\n            // 为什么？因为 axios 本身就是返回 Promise 对象\r\n            return uploadImage(fd).then(res => {\r\n              // 这个 return 是返回最后的结果\r\n              return res.data.data.url\r\n            })\r\n          } // 图片的上传方法，返回一个 Promise<url>\r\n        }),\r\n        new Underline(), // 下划线\r\n        new Italic(), // 斜体\r\n        new Strike(), // 删除线\r\n        new HorizontalRule(), // 华丽的分割线\r\n        new ListItem(),\r\n        new BulletList(), // 无序列表\r\n        new OrderedList(), // 有序列表\r\n        new TodoItem(),\r\n        new TodoList(),\r\n        new Fullscreen(),\r\n        new Preview(),\r\n        new CodeBlock(),\r\n        new TextColor()\r\n      ],\r\n      channels: [],\r\n      article: {\r\n        title: '', // 文章标题\r\n        content: `\r\n                <h1>Heading</h1>\r\n                <p>This Editor is awesome!</p>\r\n              `, // 文章内容\r\n        cover : { // 文章封面\r\n          type : 0, // 封面类型 -1:自动，0-无图，1-1张，3-3张\r\n          images: [] // 封面图片的地址\r\n        },\r\n        channel_id: null\r\n      },\r\n      article_id: null,\r\n      fromRules: {\r\n        title: [\r\n          { required: true, message: '请输入文章标题', trigger: 'blur' },\r\n          { min: 5, max: 30, message: '长度在 5 到 30 个字符', trigger: 'blur' }\r\n        ],\r\n        content: [\r\n          {\r\n            validator (rule, value, callback) {\r\n              if (value === '<p></p>'){\r\n                callback(new Error('请输入文章内容'))\r\n              } else {\r\n                callback()\r\n              }\r\n            }\r\n          },\r\n          { required: true, message: '请输入文章内容', trigger: 'blur' },\r\n        ],\r\n        channel_id: [\r\n          { required: true, message: '请选择文章频道'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  created() {\r\n    this.loadChannels()\r\n\r\n    // 由于我们让发布和修改使用的是 同一个组件\r\n    // 所以这里要判断\r\n    // 如果路由参数中有 id  则请求展示文章内容\r\n    if (this.$route.query.id) {\r\n      this.loadArticle()\r\n    }\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n  },\r\n  methods: {\r\n    onPublish(draft = false) {\r\n      this.$refs['publish-form'].validate(valid => {\r\n        // 验证失败停止提交表单\r\n        if (!valid){\r\n          return\r\n        }\r\n      })\r\n      if (this.article_id){\r\n        updateArticle(this.article_id, this.article, draft).then(res => {\r\n          console.log(res)\r\n          this.$message({\r\n            message: `${draft ? '存入草稿' : '发布'}成功`,\r\n            type: 'success'\r\n          })\r\n          // 跳转到内容管理页面\r\n          this.$router.push('/article')\r\n        })\r\n      }else {\r\n        // 找到数据接口\r\n        addArticle(this.article, draft).then(res => {\r\n          console.log(res)\r\n          this.$message({\r\n            message: `${draft ? '存入草稿' : '发布'}成功`,\r\n            type: 'success'\r\n          })\r\n          // 跳转到内容管理页面\r\n          this.$router.push('/article')\r\n        })\r\n      }\r\n    },\r\n    loadChannels () {\r\n      getArticleChannels().then(res => {\r\n        this.channels = res.data.data.channels\r\n      })\r\n    },\r\n    loadArticle () {\r\n      // 修改文章 加载文章内容\r\n      this.article_id = this.$route.query.id.toString()\r\n      getArticle(this.article_id).then(res => {\r\n        //this.article = res.data.data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/publish"}]}