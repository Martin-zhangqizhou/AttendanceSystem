{"remainingRequest":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\thread-loader\\dist\\cjs.js!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\babel-loader\\lib\\index.js!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\src\\views\\layout\\components\\herader.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\src\\views\\layout\\components\\herader.vue","mtime":1607316081351},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webLearn\\Vue\\黑马头条\\后台\\publish-admin-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFVzZXJQcm9maWxlIH0gZnJvbSAiQC9hcGkvdXNlciI7CmltcG9ydCBnbG9iYWxCdXMgZnJvbSAnQC91dGlscy9nbG9iYWwtYnVzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHBIZWFkZXInLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjoge30sCiAgICAgIC8v5b2T5YmN55m75b2V55So5oi35L+h5oGvCiAgICAgIGlzQ29sbGFwc2U6IGZhbHNlIC8v55So5p2l5o6n5Yi25L6n6L655qCP5bGV5byA55qECgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDoge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5sb2FkVXNlclByb2ZpbGUoKTsKICAgIGdsb2JhbEJ1cy4kb24oJ3VwZGF0ZS11c2VyJywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgLy8g5Zug5Li6IOWmguaenOaYr+WvueixoeeahOivnSDmmK/lvJXnlKjnsbvlnosKICAgICAgLy8g6JmO55u45LqS5b2x5ZONIOS8oOWtl+espuS4suS4jeS8mui/meagtwogICAgICBfdGhpcy51c2VyLm5hbWUgPSBkYXRhLm5hbWU7CiAgICAgIF90aGlzLnVzZXIucGhvdG8gPSBkYXRhLnBob3RvOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgLy8g6Zmk5LqG55m76ZmG5o6l5Y+jIOWFtuS7luaJgOacieaOpeWPoyDpg73pnIDopoHmjojmnYPmiY3lj6/ku6Xkvb/nlKgKICAgIGxvYWRVc2VyUHJvZmlsZTogZnVuY3Rpb24gbG9hZFVzZXJQcm9maWxlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGdldFVzZXJQcm9maWxlKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLnVzZXIgPSByZXMuZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VDb2xsYXBzZTogZnVuY3Rpb24gY2hhbmdlQ29sbGFwc2UoKSB7CiAgICAgIHRoaXMuaXNDb2xsYXBzZSA9ICF0aGlzLmlzQ29sbGFwc2U7CiAgICAgIHRoaXMuJGVtaXQoJ0xpc2VudGVyQ2hhbmdlQ29sbGFwc2UnLCB0aGlzLmlzQ29sbGFwc2UpOwogICAgfSwKICAgIG9uTG9nb3V0OiBmdW5jdGlvbiBvbkxvZ291dCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfnoa7lrprpgIDlh7rlkJc/JywgJ+mAgOWHuuaPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOaKiueUqOaIt+eahOeZu+W9leeKtuaAgea4hemZpAogICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOyAvLyDot7PovazliLDnmbvlvZXpobXpnaIKCiAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOmAgOWHuicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["herader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAAA,cAAA,QAAA,YAAA;AACA,OAAA,SAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,KAAA,EAAA,EAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AACA;AACA,MAAA,UAAA,EAAA,KAFA,CAEA;;AAFA,KAAA;AAIA,GATA;AAUA,EAAA,QAAA,EAAA,EAVA;AAWA,EAAA,KAAA,EAAA,EAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AACA,SAAA,eAAA;AACA,IAAA,SAAA,CAAA,GAAA,CAAA,aAAA,EAAA,UAAA,IAAA,EAAA;AACA;AACA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,KALA;AAMA,GApBA;AAqBA,EAAA,OArBA,qBAqBA,CAAA,CArBA;AAsBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,eAFA,6BAEA;AAAA;;AACA,MAAA,cAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA,KANA;AAOA,IAAA,cAPA,4BAOA;AACA,WAAA,UAAA,GAAA,CAAA,KAAA,UAAA;AACA,WAAA,KAAA,CAAA,wBAAA,EAAA,KAAA,UAAA;AACA,KAVA;AAWA,IAAA,QAXA,sBAWA;AAAA;;AACA,WAAA,QAAA,CAAA,QAAA,EAAA,MAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,YAAA,CAAA,UAAA,CAAA,MAAA,EAFA,CAGA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OATA,EASA,KATA,CASA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AAIA,OAdA;AAeA;AA3BA;AAtBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"header-container\">\r\n    <div>\r\n      <i  :class=\"{\r\n            'el-icon-s-fold' : isCollapse,\r\n            'el-icon-s-unfold' : !isCollapse\r\n          }\"\r\n          @click=\"changeCollapse\"></i>\r\n      <span>七里台男子职业技术学院</span>\r\n    </div>\r\n    <el-dropdown>\r\n      <div class=\"avatar-wrap\">\r\n        <img class=\"avatar\" :src=\"user.photo\" alt=\"\">\r\n        <span>{{user.name}}</span>\r\n        <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n      </div>\r\n          <!--\r\n          组件默认不识别原生时间，除非默认做处理\r\n          注意：并不是所有的组件在注册事件的时候需要使用 `.native` 修饰符，例如 el-button 组件注册点击事件就不需要，这主要是因为该组件内部处理了。\r\n\r\n          什么时候使用 `.native`？首先肯定是在组件上注册事件可能会用到，如果普通方式注册不上，这个时候加 `.native` 修饰符。\r\n\r\n          例如你给一个组件注册一个 `input` 事件，如果直接 `@input` 注册无效，那就试一下 `@input.native`。\r\n          -->\r\n      <el-dropdown-menu slot=\"dropdown\">\r\n        <el-dropdown-item>设置</el-dropdown-item>\r\n        <el-dropdown-item @click.native=\"onLogout\">退出</el-dropdown-item>\r\n      </el-dropdown-menu>\r\n    </el-dropdown>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getUserProfile} from \"@/api/user\";\r\n  import globalBus from '@/utils/global-bus'\r\n\r\n  export default {\r\n    name: 'AppHeader',\r\n    components: {},\r\n    props: {},\r\n    data () {\r\n      return {\r\n        user : {}, //当前登录用户信息\r\n        isCollapse : false //用来控制侧边栏展开的\r\n      }\r\n    },\r\n    computed: {},\r\n    watch: {},\r\n    created () {\r\n      this.loadUserProfile()\r\n      globalBus.$on('update-user', (data) => {\r\n        // 因为 如果是对象的话 是引用类型\r\n        // 虎相互影响 传字符串不会这样\r\n        this.user.name = data.name\r\n        this.user.photo = data.photo\r\n      })\r\n    },\r\n    mounted () {},\r\n    methods: {\r\n      // 除了登陆接口 其他所有接口 都需要授权才可以使用\r\n      loadUserProfile(){\r\n        getUserProfile().then(res => {\r\n          this.user = res.data.data\r\n        })\r\n      },\r\n      changeCollapse(){\r\n        this.isCollapse = !this.isCollapse\r\n        this.$emit('LisenterChangeCollapse', this.isCollapse)\r\n      },\r\n      onLogout(){\r\n        this.$confirm('确定退出吗?', '退出提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          // 把用户的登录状态清除\r\n          window.localStorage.removeItem('user')\r\n          // 跳转到登录页面\r\n          this.$router.push('/login')\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消退出'\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .header-container {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border-bottom: 1px solid #ccc;\r\n    .avatar-wrap {\r\n      display: flex;\r\n      align-items: center;\r\n      .avatar {\r\n        width: 30px;\r\n        height: 30px;\r\n        border-radius: 50%;\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/layout/components"}]}